import{Q as b}from"./QImg-H2fJ4B8o.js";import{Q as c}from"./QCardSection-CYgasTQA.js";import{Q as x}from"./QChip-B5fAKKlQ.js";import{Q as d}from"./QBtn-Dfw2kp-I.js";import{Q as _}from"./QCardActions-dUHmP9GC.js";import{Q as w}from"./QCard-DSFwVwpM.js";import{d as P}from"./date-C7HqJixX.js";import{u as M}from"./useSupabase-BCNUvXZu.js";import{u as I}from"./postsStore-7QDvzJ9x.js";import{_ as A}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{l as S,k as g,o as q,e as i,m as u,n as o,b as s,p as D,d as n,t as a,q as h,c as E,s as m}from"./mainRouter-D1MtaxKQ.js";const N={class:"absolute-bottom text-h6 title"},V={class:"row items-center q-gutter-x-md"},Y={class:"text-subtitle1"},j={class:"row fmt-date text-subtitle2"},z={key:0,class:"other-content-avail text-subtitle2"},H="/images/placeholders/esaias-tan-MKvjc2kar7Q-unsplash.jpg",T={__name:"BlogPost",props:{post:{type:Object,required:!0},showEditButtons:{type:Boolean,default:!1},isHero:{type:Boolean,default:!1}},emits:["edit-post","delete-post","view-post"],setup(t,{emit:v}){const y=I(),e=t,l=S(null),r=v;M();const k=g(()=>P.formatDate(e.post.created_at,"MMMM D, YYYY")),B=g(()=>e.post.content?e.post.content.length>150?e.post.content.substring(0,150)+"...":e.post.content:""),C=()=>{r("delete-post",e.post.id)},Q=()=>{r("edit-post",e.post.id)},p=()=>{r("view-post",e.post.id)};return q(async()=>{e.post.image_url?l.value=await y.getImageForPost(e.post):l.value=H}),(U,f)=>(i(),u(w,{class:"my-card"},{default:o(()=>[s(c,{"no-padding":"",class:D(["top-section",{"hero-post":t.isHero}])},{default:o(()=>[s(b,{fit:"contain",src:l.value,class:"header-img",onClick:p},{default:o(()=>[n("div",N,a(t.post.title),1)]),_:1},8,["src"])]),_:1},8,["class"]),s(c,null,{default:o(()=>[n("div",V,[n("div",Y,"by "+a(t.post.author||"Anonymous"),1),s(x,{color:"primary","text-color":"white",size:"sm"},{default:o(()=>[h(a(t.post.category||"Uncategorized"),1)]),_:1}),n("div",j,a(k.value),1),f[0]||(f[0]=n("span",{class:"text-red-6"},"Admin page post",-1)),t.post.translation_language&&t.post.linked_post_id&&t.post.translation_language!=="english"?(i(),E("div",z," This content is also available in "+a(t.post.translation_language.charAt(0).toUpperCase()+t.post.translation_language.slice(1)),1)):m("",!0)])]),_:1}),s(c,{class:"q-pt-none"},{default:o(()=>[h(a(B.value),1)]),_:1}),s(_,{align:"right",class:"actions"},{default:o(()=>[t.showEditButtons?(i(),u(d,{key:0,flat:"",round:"",color:"orange",icon:"edit",onClick:Q})):m("",!0),t.showEditButtons?(i(),u(d,{key:1,flat:"",round:"",color:"red",icon:"delete",onClick:C})):m("",!0),s(d,{flat:"",color:"primary",onClick:p,label:"Read More"})]),_:1})]),_:1}))}},tt=A(T,[["__scopeId","data-v-70332887"]]);export{tt as B};
