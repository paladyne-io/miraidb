import{l as K,m as q,n as W,k as R}from"./QBtn-dVAhCbIe.js";import{Q as X,a as G}from"./QPage-YZPH4k7m.js";import{a as H,b as J}from"./private.use-form-VuIT1bw4.js";import{c as Y,a as l,r as L,k as Z,h as x,g as ee,d as te,b as ae,U as T,V as le,a9 as ne,S as w,a8 as D,a1 as ie,a3 as ue,a2 as oe,W as se,X as re}from"./main-BGT-EbxG.js";import{b as de}from"./format-CQ7I9BAt.js";import{u as ce,B as ve}from"./BlogPost-oa831Pbp.js";import{_ as ge}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./QImg-BHpiMXyc.js";import"./use-timeout-DFzk4sJJ.js";import"./QCard-CF7dW9Dx.js";function C(e,y){return[!0,!1].includes(e)?e:y}const me=Y({name:"QPagination",props:{...H,modelValue:{type:Number,required:!0},min:{type:[Number,String],default:1},max:{type:[Number,String],required:!0},maxPages:{type:[Number,String],default:0,validator:e=>(typeof e=="string"?parseInt(e,10):e)>=0},inputStyle:[Array,String,Object],inputClass:[Array,String,Object],size:String,disable:Boolean,input:Boolean,iconPrev:String,iconNext:String,iconFirst:String,iconLast:String,toFn:Function,boundaryLinks:{type:Boolean,default:null},boundaryNumbers:{type:Boolean,default:null},directionLinks:{type:Boolean,default:null},ellipses:{type:Boolean,default:null},ripple:{type:[Boolean,Object],default:null},round:Boolean,rounded:Boolean,flat:Boolean,outline:Boolean,unelevated:Boolean,push:Boolean,glossy:Boolean,color:{type:String,default:"primary"},textColor:String,activeDesign:{type:String,default:"",values:e=>e===""||K.includes(e)},activeColor:String,activeTextColor:String,gutter:String,padding:{type:String,default:"3px 2px"}},emits:["update:modelValue"],setup(e,{emit:y}){const{proxy:g}=ee(),{$q:s}=g,m=J(e,s),i=l(()=>parseInt(e.min,10)),n=l(()=>parseInt(e.max,10)),B=l(()=>parseInt(e.maxPages,10)),k=l(()=>f.value+" / "+n.value),u=l(()=>C(e.boundaryLinks,e.input)),r=l(()=>C(e.boundaryNumbers,!e.input)),c=l(()=>C(e.directionLinks,e.input)),b=l(()=>C(e.ellipses,!e.input)),V=L(null),f=l({get:()=>e.modelValue,set:t=>{if(t=parseInt(t,10),e.disable||isNaN(t))return;const a=de(t,i.value,n.value);e.modelValue!==a&&y("update:modelValue",a)}});Z(()=>`${i.value}|${n.value}`,()=>{f.value=e.modelValue});const $=l(()=>"q-pagination row no-wrap items-center"+(e.disable===!0?" disabled":"")),_=l(()=>e.gutter in q?`${q[e.gutter]}px`:e.gutter||null),I=l(()=>_.value!==null?`--q-pagination-gutter-parent:-${_.value};--q-pagination-gutter-child:${_.value}`:null),p=l(()=>{const t=[e.iconFirst||s.iconSet.pagination.first,e.iconPrev||s.iconSet.pagination.prev,e.iconNext||s.iconSet.pagination.next,e.iconLast||s.iconSet.pagination.last];return s.lang.rtl===!0?t.reverse():t}),O=l(()=>({"aria-disabled":e.disable===!0?"true":"false",role:"navigation"})),N=l(()=>W(e,"flat")),j=l(()=>({[N.value]:!0,round:e.round,rounded:e.rounded,padding:e.padding,color:e.color,textColor:e.textColor,size:e.size,ripple:e.ripple!==null?e.ripple:!0})),Q=l(()=>{const t={[N.value]:!1};return e.activeDesign!==""&&(t[e.activeDesign]=!0),t}),z=l(()=>({...Q.value,color:e.activeColor||e.color,textColor:e.activeTextColor||e.textColor})),P=l(()=>{let t=Math.max(B.value,1+(b.value?2:0)+(r.value?2:0));const a={pgFrom:i.value,pgTo:n.value,ellipsesStart:!1,ellipsesEnd:!1,boundaryStart:!1,boundaryEnd:!1,marginalStyle:{minWidth:`${Math.max(2,String(n.value).length)}em`}};return B.value&&t<n.value-i.value+1&&(t=1+Math.floor(t/2)*2,a.pgFrom=Math.max(i.value,Math.min(n.value-t+1,e.modelValue-Math.floor(t/2))),a.pgTo=Math.min(n.value,a.pgFrom+t-1),r.value&&(a.boundaryStart=!0,a.pgFrom++),b.value&&a.pgFrom>i.value+(r.value?1:0)&&(a.ellipsesStart=!0,a.pgFrom++),r.value&&(a.boundaryEnd=!0,a.pgTo--),b.value&&a.pgTo<n.value-(r.value?1:0)&&(a.ellipsesEnd=!0,a.pgTo--)),a});function E(t){f.value=t}function A(t){f.value=f.value+t}const U=l(()=>{function t(){f.value=V.value,V.value=null}return{"onUpdate:modelValue":a=>{V.value=a},onKeyup:a=>{te(a,13)===!0&&t()},onBlur:t}});function d(t,a,S){const v={"aria-label":a,"aria-current":"false",...j.value,...t};return S===!0&&Object.assign(v,{"aria-current":"true",...z.value}),a!==void 0&&(e.toFn!==void 0?v.to=e.toFn(a):v.onClick=()=>{E(a)}),x(R,v)}return Object.assign(g,{set:E,setByOffset:A}),()=>{const t=[],a=[];let S;if(u.value===!0&&(t.push(d({key:"bls",disable:e.disable||e.modelValue<=i.value,icon:p.value[0]},i.value)),a.unshift(d({key:"ble",disable:e.disable||e.modelValue>=n.value,icon:p.value[3]},n.value))),c.value===!0&&(t.push(d({key:"bdp",disable:e.disable||e.modelValue<=i.value,icon:p.value[1]},e.modelValue-1)),a.unshift(d({key:"bdn",disable:e.disable||e.modelValue>=n.value,icon:p.value[2]},e.modelValue+1))),e.input!==!0){S=[];const{pgFrom:v,pgTo:M,marginalStyle:h}=P.value;if(P.value.boundaryStart===!0){const o=i.value===e.modelValue;t.push(d({key:"bns",style:h,disable:e.disable,label:i.value},i.value,o))}if(P.value.boundaryEnd===!0){const o=n.value===e.modelValue;a.unshift(d({key:"bne",style:h,disable:e.disable,label:n.value},n.value,o))}P.value.ellipsesStart===!0&&t.push(d({key:"bes",style:h,disable:e.disable,label:"…",ripple:!1},v-1)),P.value.ellipsesEnd===!0&&a.unshift(d({key:"bee",style:h,disable:e.disable,label:"…",ripple:!1},M+1));for(let o=v;o<=M;o++)S.push(d({key:`bpg${o}`,style:h,disable:e.disable,label:o},o,o===e.modelValue))}return x("div",{class:$.value,...O.value},[x("div",{class:"q-pagination__content row no-wrap items-center",style:I.value},[...t,e.input===!0?x(X,{class:"inline",style:{width:`${k.value.length/1.5}em`},type:"number",dense:!0,value:V.value,disable:e.disable,dark:m.value,borderless:!0,inputClass:e.inputClass,inputStyle:e.inputStyle,placeholder:k.value,min:i.value,max:n.value,...U.value}):x("div",{class:"q-pagination__middle row justify-center"},S),...a])])}}}),be={class:"blog-grid"},fe={class:"q-pa-lg flex flex-center"},F=7,ye={__name:"BlogPage",setup(e){const y=ne(),g=ce(),s=l(()=>g.posts),m=L(1),i=l(()=>{const u=(m.value-1)*F;return s.value.slice(u,u+F)}),n=l(()=>Math.ceil(s.value.length/F));ae(async()=>{console.log("BlogPage mounted"),await g.loadPosts(),console.log("loadPosts done")});function B(u){m.value=u}async function k(u){console.log("Viewing post with ID: "+u),g.posts.find(c=>c.id===u)&&y.push({name:"view-post",params:{id:u}})}return(u,r)=>(w(),T(G,{class:"blog-page"},{default:le(()=>[D("div",be,[(w(!0),ie(oe,null,ue(i.value,(c,b)=>(w(),T(ve,{key:c.id,post:c,"is-hero":b===0,class:re({"hero-image":b===0}),showEditButtons:!1,onViewPost:k},null,8,["post","is-hero","class"]))),128))]),D("div",fe,[se(me,{modelValue:m.value,"onUpdate:modelValue":[r[0]||(r[0]=c=>m.value=c),B],max:n.value,class:"q-mt-md"},null,8,["modelValue","max"])])]),_:1}))}},we=ge(ye,[["__scopeId","data-v-38c5c019"]]);export{we as default};
